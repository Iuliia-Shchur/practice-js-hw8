{"version":3,"sources":["js/galleryItem.js","js/refs.js","js/themeSwitch.js","index.js"],"names":["galleryItems","preview","original","description","refs","galleryList","document","querySelector","lightbox","lightbox__overlay","lightbox__image","activeIndex","createGalleryCards","items","map","onOpenModal","e","preventDefault","target","classList","contains","add","src","dataset","source","forEach","element","ind","includes","console","log","window","addEventListener","closeByEscape","changeByArrows","onCloseModal","nodeName","remove","removeEventListener","key","length","innerHTML","join"],"mappings":"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","file":"src.90260ad8.js","sourceRoot":"../src","sourcesContent":["export const galleryItems = [\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n    },\n  ];","export const refs = {\n    galleryList: document.querySelector('.js-gallery'),\n    lightbox: document.querySelector('.js-lightbox'),\n    lightbox__overlay: document.querySelector('.lightbox__overlay'),\n    lightbox__image: document.querySelector('.lightbox__image'),\n    // lightbox__button: document.querySelector('.lightbox__button'),\n    };","import { galleryItems } from \"./galleryItem\";\nimport { refs} from \"./refs\";\n\nlet activeIndex = null;\n\nfunction createGalleryCards(items) {\nreturn items.map(({preview, original, description}) => {\n\n    return `\n    <li class=\"gallery__item\">\n      <a class=\"gallery__link\"\n        href=\"${original}\">\n          <img class=\"gallery__image\"\n          src=\"${preview}\"\n          data-source=\"${original}\"\n          alt=\"${description}\"/>\n      </a>\n    </li>\n    `;\n})\n};\n\nrefs.galleryList.innerHTML = createGalleryCards(galleryItems).join('');\n\nrefs.galleryList.addEventListener('click', onOpenModal);\n\nfunction onOpenModal (e) {\n    e.preventDefault()\n\n    if (!e.target.classList.contains('gallery__image')) {\n        return;\n    }\n    refs.lightbox.classList.add('is-open');\n    refs.lightbox__image.src = e.target.dataset.source;\n\ncreateGalleryCards(galleryItems).forEach((element, ind) => {\n    if(element.includes(e.target.src)) {\n        activeIndex = ind;\n    }\n});\nconsole.log(activeIndex);\n\nwindow.addEventListener('keydown', closeByEscape);\nwindow.addEventListener('keydown', changeByArrows);\n    \n};\n\nrefs.lightbox.addEventListener('click', onCloseModal);\n\nfunction onCloseModal (e) {\n    if (e?.target.nodeName === 'IMG') {\n        return;\n    }\n    refs.lightbox__image.src = '';\n    refs.lightbox.classList.remove('is-open');\n   \nwindow.removeEventListener('keydown', closeByEscape);\nwindow.removeEventListener('keydown', changeByArrows);\n}\n\n\nfunction closeByEscape (e) {\n    if (e.key !== 'Escape') {\n        return;\n    } onCloseModal();\n    console.log('Hello');\n}\n\nfunction changeByArrows (e) {\nif(e.key === 'ArrowRight' && activeIndex < galleryItems.length -1) {\n    activeIndex += 1;\n    refs.lightbox__image.src = galleryItems[activeIndex].original;\n    return;\n}  if(e.key === 'ArrowLeft' && activeIndex > 0) {\n    activeIndex -= 1;\n    refs.lightbox__image.src = galleryItems[activeIndex].original;\n    return;\n} if(e.key === 'ArrowRight' && activeIndex === galleryItems.length -1) {\n    activeIndex = 0;\n    refs.lightbox__image.src = galleryItems[activeIndex].original;\n    return;\n}if(e.key === 'ArrowLeft' && activeIndex === 0) {\n    activeIndex = galleryItems.length -1;\n    refs.lightbox__image.src = galleryItems[activeIndex].original;\n    return;\n}}; \n\n\n// function keyboardManipulation({ key }) {\n//     switch (key) {\n//       case gallery.length - 1 > activeIndex && \"ArrowRight\":\n//         activeIndex += 1;\n//         refs.modalImg.src = gallery[activeIndex].original;\n//         break;\n//       case activeIndex > 0 && \"ArrowLeft\":\n//         activeIndex -= 1;\n//         refs.modalImg.src = gallery[activeIndex].original;\n//         break;\n//       case activeIndex === gallery.length - 1 && \"ArrowRight\":\n//         activeIndex = 0;\n//         refs.modalImg.src = gallery[activeIndex].original;\n//         break;\n//       case activeIndex === 0 && \"ArrowLeft\":\n//         activeIndex = gallery.length - 1;\n//         refs.modalImg.src = gallery[activeIndex].original;\n//         break;\n//       case \"Escape\":\n//         closeModal();\n//         break;\n//       default:\n//         alert(\"что-то пошло не так\");\n//     }\n//   }\n  \n","import \"./js/themeSwitch\"\n"]}